/*Creation du planning salarie de la semaine 15 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 15 pour l'employe KATY BENOITS dont la date de debut est 2017-04-10 et la date de fin est 2017-04-10 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-10','2017-04-10',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726'),(select id_point_vente from point_vente where numero_point_vente like 'MS420726'));

/* Requete pour tous les jours de la semaine 15 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H','48','48','A',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'13:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');

/*Creation du planning salarie de la semaine 16 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 16 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-17'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');

/*Creation du planning salarie de la semaine 17 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201710100-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201710100-69-MS420726')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'13:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201710100-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201710100-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');

/*Creation du planning salarie de la semaine 14 pour l'employé OLINA MAKAMPA */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe OLINA MAKAMPApour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.id_point_vente like 'MS420792' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 14 pour l'employe OLINA MAKAMPA dont la date de debut est 2017-04-03 et la date de fin est 2017-04-03 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-03','2017-04-03',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_point_vente from point_vente where numero_point_vente like 'MS420792'));

/* Requete pour tous les jours de la semaine 14 pour l'employé OLINA MAKAMPA  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLINA MAKAMPA pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié OLINA MAKAMPA */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792');

/*Creation du planning salarie de la semaine 15 pour l'employé OLINA MAKAMPA */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe OLINA MAKAMPApour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.id_point_vente like 'MS420792' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 15 pour l'employe OLINA MAKAMPA dont la date de debut est 2017-04-10 et la date de fin est 2017-04-16 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-10','2017-04-16',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_point_vente from point_vente where numero_point_vente like 'MS420792'));

/* Requete pour tous les jours de la semaine 15 pour l'employé OLINA MAKAMPA  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLINA MAKAMPA pour de la semaine 15 */ 


/* pour tous les jours de la semaine du salarié OLINA MAKAMPA */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792');

/*Creation du planning salarie de la semaine 16 pour l'employé OLINA MAKAMPA */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe OLINA MAKAMPApour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.id_point_vente like 'MS420792' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 16 pour l'employe OLINA MAKAMPA dont la date de debut est 2017-04-17 et la date de fin est 2017-04-19 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-17','2017-04-19',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_point_vente from point_vente where numero_point_vente like 'MS420792'));

/* Requete pour tous les jours de la semaine 16 pour l'employé OLINA MAKAMPA  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLINA MAKAMPA pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié OLINA MAKAMPA */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792');

/*Creation du planning salarie de la semaine 17 pour l'employé OLINA MAKAMPA */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe OLINA MAKAMPApour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.id_point_vente like 'MS420792' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé OLINA MAKAMPA  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);

/* toutes les plages horaires du salarié OLINA MAKAMPA pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'13:30','18:30','-1');

/* pour tous les jours de la semaine du salarié OLINA MAKAMPA */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792');

/*Creation du planning salarie de la semaine 18 pour l'employé OLINA MAKAMPA */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792') and date_debut = '2017-05-01'),true);

/* Création de l'évenement Hebdo de l'employe OLINA MAKAMPApour la semaine du 18 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.id_point_vente like 'MS420792' and date_debut ='2017-05-01'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 18 pour l'employe OLINA MAKAMPA dont la date de debut est 2017-05-01 et la date de fin est 2017-05-01 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-01','2017-05-01',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792'),(select id_point_vente from point_vente where numero_point_vente like 'MS420792'));

/* Requete pour tous les jours de la semaine 18 pour l'employé OLINA MAKAMPA  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-02' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-03' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-05' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-06' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-07' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792') and pv.numero_point_vente like 'MS420792' and ppv.date_debut='2017-05-01'),'2017-05-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559435-201709400-69-MS420792' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-01' and pv.numero_point_vente like 'MS420792' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559435-201709400-69-MS420792')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLINA MAKAMPA pour de la semaine 18 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-05'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559435-201709400-69-MS420792' and pv.numero_point_vente like 'MS420792' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-07'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié OLINA MAKAMPA */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-02'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420792' and ps.id_salarie='9559435-201709400-69-MS420792' and date_debut ='2017-05-01' and date ='2017-05-07'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-05-01 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-05-01' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420792');

/*Creation du planning salarie de la semaine 13 pour l'employé PATRICIA COLOMBANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe PATRICIA COLOMBANIpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.id_point_vente like 'MS420710' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 13 pour l'employé PATRICIA COLOMBANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-28' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-29' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-30' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-31' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-01' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-02' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié PATRICIA COLOMBANI pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'10:15','12:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'13:15','18:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'10:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'13:30','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-31'),'10:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-31'),'13:30','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'12:30','14:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'15:30','18:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-02'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié PATRICIA COLOMBANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710');

/*Creation du planning salarie de la semaine 14 pour l'employé PATRICIA COLOMBANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe PATRICIA COLOMBANIpour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.id_point_vente like 'MS420710' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 14 pour l'employé PATRICIA COLOMBANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié PATRICIA COLOMBANI pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'11:15','13:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'14:15','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'09:30','12:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'13:15','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'14:15','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'11:30','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'14:30','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié PATRICIA COLOMBANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710');

/*Creation du planning salarie de la semaine 15 pour l'employé PATRICIA COLOMBANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe PATRICIA COLOMBANIpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.id_point_vente like 'MS420710' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 15 pour l'employé PATRICIA COLOMBANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié PATRICIA COLOMBANI pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'13:30','16:45','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'09:30','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'14:00','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'13:30','16:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'12:15','14:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'15:15','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'13:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié PATRICIA COLOMBANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710');

/*Creation du planning salarie de la semaine 16 pour l'employé PATRICIA COLOMBANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe PATRICIA COLOMBANIpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.id_point_vente like 'MS420710' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 16 pour l'employé PATRICIA COLOMBANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié PATRICIA COLOMBANI pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-17'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'13:30','16:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'13:30','16:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'11:30','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'14:30','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'13:30','16:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'13:30','17:45','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié PATRICIA COLOMBANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710');

/*Creation du planning salarie de la semaine 18 pour l'employé PATRICIA COLOMBANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710') and date_debut = '2017-05-01'),true);

/* Création de l'évenement Hebdo de l'employe PATRICIA COLOMBANIpour la semaine du 18 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.id_point_vente like 'MS420710' and date_debut ='2017-05-01'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 18 pour l'employe PATRICIA COLOMBANI dont la date de debut est 2017-05-01 et la date de fin est 2017-05-01 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-01','2017-05-01',48,'H',0,(select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710'),(select id_point_vente from point_vente where numero_point_vente like 'MS420710'));

/* Requete pour tous les jours de la semaine 18 pour l'employé PATRICIA COLOMBANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-02' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-03' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-05' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-06' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-07' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710') and pv.numero_point_vente like 'MS420710' and ppv.date_debut='2017-05-01'),'2017-05-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560005-201710700-69-MS420710' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-01' and pv.numero_point_vente like 'MS420710' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560005-201710700-69-MS420710')),'H','48','48','A',0);

/* toutes les plages horaires du salarié PATRICIA COLOMBANI pour de la semaine 18 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'12:00','14:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'15:30','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'13:30','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'12:00','14:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'15:30','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-05'),'14:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'10:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'16:00','18:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560005-201710700-69-MS420710' and pv.numero_point_vente like 'MS420710' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-07'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié PATRICIA COLOMBANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-02'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420710' and ps.id_salarie='9560005-201710700-69-MS420710' and date_debut ='2017-05-01' and date ='2017-05-07'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-05-01 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-05-01' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420710');

/*Creation du planning salarie de la semaine 13 pour l'employé MELANIE LEGER */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe MELANIE LEGERpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.id_point_vente like 'MS420753' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 13 pour l'employé MELANIE LEGER  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-28' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-29' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-30' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-31' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-01' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-02' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MELANIE LEGER pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-28'),'10:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-28'),'13:00','15:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'10:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'10:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-31'),'10:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'10:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'13:00','16:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-02'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MELANIE LEGER */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753');

/*Creation du planning salarie de la semaine 14 pour l'employé MELANIE LEGER */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe MELANIE LEGERpour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.id_point_vente like 'MS420753' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 14 pour l'employé MELANIE LEGER  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MELANIE LEGER pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'15:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'10:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'13:00','18:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'12:00','15:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'16:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'11:00','15:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'16:00','18:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MELANIE LEGER */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753');

/*Creation du planning salarie de la semaine 15 pour l'employé MELANIE LEGER */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe MELANIE LEGERpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.id_point_vente like 'MS420753' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 15 pour l'employé MELANIE LEGER  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MELANIE LEGER pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'10:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'11:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'15:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'10:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'13:00','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MELANIE LEGER */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753');

/*Creation du planning salarie de la semaine 18 pour l'employé MELANIE LEGER */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753') and date_debut = '2017-05-01'),true);

/* Création de l'évenement Hebdo de l'employe MELANIE LEGERpour la semaine du 18 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.id_point_vente like 'MS420753' and date_debut ='2017-05-01'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 18 pour l'employe MELANIE LEGER dont la date de debut est 2017-05-01 et la date de fin est 2017-05-01 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-01','2017-05-01',48,'H',0,(select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753'),(select id_point_vente from point_vente where numero_point_vente like 'MS420753'));

/* Requete pour tous les jours de la semaine 18 pour l'employé MELANIE LEGER  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-02' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-03' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-05' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-06' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-07' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753') and pv.numero_point_vente like 'MS420753' and ppv.date_debut='2017-05-01'),'2017-05-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560905-201707200-69-MS420753' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-01' and pv.numero_point_vente like 'MS420753' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560905-201707200-69-MS420753')),'H','48','48','A',0);

/* toutes les plages horaires du salarié MELANIE LEGER pour de la semaine 18 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'10:00','15:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-05'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560905-201707200-69-MS420753' and pv.numero_point_vente like 'MS420753' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-07'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MELANIE LEGER */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-02'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420753' and ps.id_salarie='9560905-201707200-69-MS420753' and date_debut ='2017-05-01' and date ='2017-05-07'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-05-01 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-05-01' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420753');

/*Creation du planning salarie de la semaine 13 pour l'employé CYNTHIA THOMAS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe CYNTHIA THOMASpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.id_point_vente like 'MS420759' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 13 pour l'employe CYNTHIA THOMAS dont la date de debut est 2017-03-27 et la date de fin est 2017-03-28 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-03-27','2017-03-28',48,'H',0,(select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759'),(select id_point_vente from point_vente where numero_point_vente like 'MS420759'));

/* Planing plage pour chaque jour de la semaine 13 pour l'employe CYNTHIA THOMAS dont la date de debut est 2017-03-31 et la date de fin est 2017-04-02 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-03-31','2017-04-02',48,'H',0,(select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759'),(select id_point_vente from point_vente where numero_point_vente like 'MS420759'));

/* Requete pour tous les jours de la semaine 13 pour l'employé CYNTHIA THOMAS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-29' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-30' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H','48','48','A',0);

/* toutes les plages horaires du salarié CYNTHIA THOMAS pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'13:00','15:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié CYNTHIA THOMAS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759');

/*Creation du planning salarie de la semaine 16 pour l'employé CYNTHIA THOMAS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe CYNTHIA THOMASpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.id_point_vente like 'MS420759' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 16 pour l'employé CYNTHIA THOMAS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié CYNTHIA THOMAS pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-17'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'13:00','15:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'13:00','15:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'13:00','15:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'09:30','14:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié CYNTHIA THOMAS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759');

/*Creation du planning salarie de la semaine 17 pour l'employé CYNTHIA THOMAS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe CYNTHIA THOMASpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.id_point_vente like 'MS420759' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé CYNTHIA THOMAS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759') and pv.numero_point_vente like 'MS420759' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9560909-201710700-69-MS420759' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420759' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9560909-201710700-69-MS420759')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié CYNTHIA THOMAS pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'13:00','15:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'09:30','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'12:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'14:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'09:30','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9560909-201710700-69-MS420759' and pv.numero_point_vente like 'MS420759' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié CYNTHIA THOMAS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420759' and ps.id_salarie='9560909-201710700-69-MS420759' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420759');

/*Creation du planning salarie de la semaine 13 pour l'employé DOMINIQUE LOPEZ */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe DOMINIQUE LOPEZpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.id_point_vente like 'MS420122' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 13 pour l'employe DOMINIQUE LOPEZ dont la date de debut est 2017-03-27 et la date de fin est 2017-03-31 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-03-27','2017-03-31',48,'H',0,(select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_point_vente from point_vente where numero_point_vente like 'MS420122'));

/* Requete pour tous les jours de la semaine 13 pour l'employé DOMINIQUE LOPEZ  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-02' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','48','48','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','48','48','A',0);

/* toutes les plages horaires du salarié DOMINIQUE LOPEZ pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-02'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié DOMINIQUE LOPEZ */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122');

/*Creation du planning salarie de la semaine 14 pour l'employé DOMINIQUE LOPEZ */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe DOMINIQUE LOPEZpour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.id_point_vente like 'MS420122' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 14 pour l'employé DOMINIQUE LOPEZ  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié DOMINIQUE LOPEZ pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'12:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'14:00','18:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'13:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'11:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'11:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié DOMINIQUE LOPEZ */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122');

/*Creation du planning salarie de la semaine 15 pour l'employé DOMINIQUE LOPEZ */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe DOMINIQUE LOPEZpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.id_point_vente like 'MS420122' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 15 pour l'employé DOMINIQUE LOPEZ  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié DOMINIQUE LOPEZ pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'12:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'14:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'11:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'11:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'11:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié DOMINIQUE LOPEZ */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122');

/*Creation du planning salarie de la semaine 16 pour l'employé DOMINIQUE LOPEZ */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe DOMINIQUE LOPEZpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.id_point_vente like 'MS420122' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 16 pour l'employe DOMINIQUE LOPEZ dont la date de debut est 2017-04-17 et la date de fin est 2017-04-17 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-17','2017-04-17',80,'H',0,(select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_point_vente from point_vente where numero_point_vente like 'MS420122'));

/* Requete pour tous les jours de la semaine 16 pour l'employé DOMINIQUE LOPEZ  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H','80','80','A',0);

/* toutes les plages horaires du salarié DOMINIQUE LOPEZ pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'12:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'12:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié DOMINIQUE LOPEZ */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122');

/*Creation du planning salarie de la semaine 17 pour l'employé DOMINIQUE LOPEZ */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe DOMINIQUE LOPEZpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.id_point_vente like 'MS420122' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé DOMINIQUE LOPEZ  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-1,-1,'N',1500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122') and pv.numero_point_vente like 'MS420122' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9561557-201709100-69-MS420122' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420122' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9561557-201709100-69-MS420122')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié DOMINIQUE LOPEZ pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'12:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'14:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'12:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'12:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'15:00','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9561557-201709100-69-MS420122' and pv.numero_point_vente like 'MS420122' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié DOMINIQUE LOPEZ */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420122' and ps.id_salarie='9561557-201709100-69-MS420122' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420122');

/*Creation du planning salarie de la semaine 16 pour l'employé OLIVIA CLETON */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420136') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe OLIVIA CLETONpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.id_point_vente like 'MS420136' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 16 pour l'employe OLIVIA CLETON dont la date de debut est 2017-04-17 et la date de fin est 2017-04-17 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-17','2017-04-17',48,'H',0,(select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136'),(select id_point_vente from point_vente where numero_point_vente like 'MS420136'));

/* Requete pour tous les jours de la semaine 16 pour l'employé OLIVIA CLETON  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',5500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',5500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLIVIA CLETON pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'11:00','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'14:30','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'13:30','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'13:30','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'11:00','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'14:30','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié OLIVIA CLETON */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420136');

/*Creation du planning salarie de la semaine 17 pour l'employé OLIVIA CLETON */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420136') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe OLIVIA CLETONpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.id_point_vente like 'MS420136' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 17 pour l'employe OLIVIA CLETON dont la date de debut est 2017-04-30 et la date de fin est 2017-04-30 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-30','2017-04-30',48,'H',0,(select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136'),(select id_point_vente from point_vente where numero_point_vente like 'MS420136'));

/* Requete pour tous les jours de la semaine 17 pour l'employé OLIVIA CLETON  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136') and pv.numero_point_vente like 'MS420136' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9562285-201710800-69-MS420136' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420136' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9562285-201710800-69-MS420136')),'H','48','48','A',0);

/* toutes les plages horaires du salarié OLIVIA CLETON pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'14:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9562285-201710800-69-MS420136' and pv.numero_point_vente like 'MS420136' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié OLIVIA CLETON */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420136' and ps.id_salarie='9562285-201710800-69-MS420136' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420136');

/*Creation du planning salarie de la semaine 13 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 13 pour l'employe MERYAME KACHOUANI dont la date de debut est 2017-03-31 et la date de fin est 2017-03-31 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-03-31','2017-03-31',60,'H',0,(select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_point_vente from point_vente where numero_point_vente like 'MS420727'));

/* Requete pour tous les jours de la semaine 13 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-28' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-29' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-30' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-01' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-02' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-31' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H','60','60','A',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-27'),'09:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-27'),'13:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'15:00','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-02'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 14 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 14 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'16:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'14:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 15 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 15 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'09:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'13:00','16:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'11:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'15:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'11:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'14:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'14:00','16:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'17:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 16 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 16 pour l'employe MERYAME KACHOUANI dont la date de debut est 2017-04-17 et la date de fin est 2017-04-17 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-17','2017-04-17',54,'H',0,(select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_point_vente from point_vente where numero_point_vente like 'MS420727'));

/* Requete pour tous les jours de la semaine 16 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H','54','54','A',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'09:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'11:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'14:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 17 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',5500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'09:00','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'13:00','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'15:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'14:30','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'16:30','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 18 pour l'employé MERYAME KACHOUANI */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727') and date_debut = '2017-05-01'),true);

/* Création de l'évenement Hebdo de l'employe MERYAME KACHOUANIpour la semaine du 18 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.id_point_vente like 'MS420727' and date_debut ='2017-05-01'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 18 pour l'employe MERYAME KACHOUANI dont la date de debut est 2017-05-04 et la date de fin est 2017-05-05 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-04','2017-05-05',50,'H',0,(select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_point_vente from point_vente where numero_point_vente like 'MS420727'));

/* Planing plage pour chaque jour de la semaine 18 pour l'employe MERYAME KACHOUANI dont la date de debut est 2017-05-01 et la date de fin est 2017-05-01 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-01','2017-05-01',54,'H',0,(select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727'),(select id_point_vente from point_vente where numero_point_vente like 'MS420727'));

/* Requete pour tous les jours de la semaine 18 pour l'employé MERYAME KACHOUANI  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-02' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-03' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-06' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-07' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H','50','50','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H','50','50','A',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727') and pv.numero_point_vente like 'MS420727' and ppv.date_debut='2017-05-01'),'2017-05-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9509397-201706000-69-MS420727' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-01' and pv.numero_point_vente like 'MS420727' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9509397-201706000-69-MS420727')),'H','54','54','A',0);

/* toutes les plages horaires du salarié MERYAME KACHOUANI pour de la semaine 18 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'16:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9509397-201706000-69-MS420727' and pv.numero_point_vente like 'MS420727' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-07'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié MERYAME KACHOUANI */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-02'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420727' and ps.id_salarie='9509397-201706000-69-MS420727' and date_debut ='2017-05-01' and date ='2017-05-07'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-05-01 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-05-01' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420727');

/*Creation du planning salarie de la semaine 13 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-03-27'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 13 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-03-27'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 13 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-03-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-27' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',5250);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-03-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-28' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-03-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-29' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',6250);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-03-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-30' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-03-31',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-03-31' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-04-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-01' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-03-27'),'2017-04-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-03-27'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-02' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 13 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-27'),'09:15','14:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-29'),'13:00','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-30'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-31'),'09:30','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-03-31'),'14:00','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'09:15','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-01'),'13:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-03-27' and pj.date = '2017-04-02'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-03-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-03-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-03-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-03-30'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-03-31'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-04-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-03-27' and date ='2017-04-02'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-03-27 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-03-27' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 14 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-04-03'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 14 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-04-03'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 14 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-03' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-04' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-05' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',4500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-06' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',4750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-07' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-08',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-08' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-03'),'2017-04-09',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-03'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-09' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 14 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'11:00','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-03'),'14:00','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'09:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-04'),'13:00','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-05'),'09:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-06'),'14:30','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'09:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-07'),'13:30','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-08'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-03' and pj.date = '2017-04-09'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-07'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-08'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-03' and date ='2017-04-09'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-03 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-03' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 15 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 15 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3250);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3250);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'08:30','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-10'),'13:00','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'09:15','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'09:15','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'13:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'09:15','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'13:30','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'09:15','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'13:30','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 16 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 16 pour l'employe ANAIS HAMAD dont la date de debut est 2017-04-17 et la date de fin est 2017-04-17 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-17','2017-04-17',54,'H',0,(select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_point_vente from point_vente where numero_point_vente like 'MS420749'));

/* Requete pour tous les jours de la semaine 16 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',3500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H','54','54','A',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'10:30','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'15:00','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'09:15','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'13:00','16:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'09:15','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'13:00','17:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'14:30','19:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 17 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',5750);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'09:15','14:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'09:15','12:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'13:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'10:30','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'14:00','17:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'13:30','19:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'12:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'15:00','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 18 pour l'employé ANAIS HAMAD */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749') and date_debut = '2017-05-01'),true);

/* Création de l'évenement Hebdo de l'employe ANAIS HAMADpour la semaine du 18 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.id_point_vente like 'MS420749' and date_debut ='2017-05-01'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 18 pour l'employe ANAIS HAMAD dont la date de debut est 2017-05-01 et la date de fin est 2017-05-01 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-05-01','2017-05-01',54,'H',0,(select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749'),(select id_point_vente from point_vente where numero_point_vente like 'MS420749'));

/* Requete pour tous les jours de la semaine 18 pour l'employé ANAIS HAMAD  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-02',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-02' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-03',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-03' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',4000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-04',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-04' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',2500);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-05',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-05' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-06',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-06' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-1,-1,'N',4250);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-07',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-07' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749') and pv.numero_point_vente like 'MS420749' and ppv.date_debut='2017-05-01'),'2017-05-01',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9550369-201706100-69-MS420749' and pt.debut <='2017-05-01'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-05-01' and pv.numero_point_vente like 'MS420749' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9550369-201706100-69-MS420749')),'H','54','54','A',0);

/* toutes les plages horaires du salarié ANAIS HAMAD pour de la semaine 18 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'08:30','12:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-02'),'13:30','17:15','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-03'),'14:00','18:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'10:30','13:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-04'),'13:30','16:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-05'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'09:15','13:30','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-06'),'14:30','19:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9550369-201706100-69-MS420749' and pv.numero_point_vente like 'MS420749' and ppv.date_debut ='2017-05-01' and pj.date = '2017-05-07'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié ANAIS HAMAD */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-01'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-02'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-03'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-04'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-05'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-06'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420749' and ps.id_salarie='9550369-201706100-69-MS420749' and date_debut ='2017-05-01' and date ='2017-05-07'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-05-01 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-05-01' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420749');

/*Creation du planning salarie de la semaine 15 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-10'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 15 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-10'), '000', 'CODE','000');

/* Planing plage pour chaque jour de la semaine 15 pour l'employe KATY BENOITS dont la date de debut est 2017-04-10 et la date de fin est 2017-04-10 */
insert into planning_plage (debut,fin,id_motif,unite,duree_semaine_0,id_salarie,id_point_vente) values ('2017-04-10','2017-04-10',48,'H',0,(select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726'),(select id_point_vente from point_vente where numero_point_vente like 'MS420726'));

/* Requete pour tous les jours de la semaine 15 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-11',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-11' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-12',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-12' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-13',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-13' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-14',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-14' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-15',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-15' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-16',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-16' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-10'),'2017-04-10',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-10'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-10' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H','48','48','A',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 15 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'13:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-11'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-12'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-13'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-14'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-15'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-10' and pj.date = '2017-04-16'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-10'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-11'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-12'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-13'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-14'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-15'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-10' and date ='2017-04-16'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-10 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-10' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');

/*Creation du planning salarie de la semaine 16 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-17'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 16 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-17'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 16 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-17',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-17' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-18',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-18' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-19',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-19' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-20',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-20' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-21',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-21' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-22',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-22' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-17'),'2017-04-23',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-17'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-23' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 16 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-17'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-18'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-19'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-20'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-21'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-22'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-17' and pj.date = '2017-04-23'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-17'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-18'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-19'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-20'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-21'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-22'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-17' and date ='2017-04-23'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-17 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-17' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');

/*Creation du planning salarie de la semaine 17 pour l'employé KATY BENOITS */ 
INSERT INTO planning_salarie(id_salarie,id_planning_point_vente,termine) VALUES ( (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726'),(select id_planning_point_vente from planning_point_vente where id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726') and date_debut = '2017-04-24'),true);

/* Création de l'évenement Hebdo de l'employe KATY BENOITSpour la semaine du 17 */ 
insert into ev_hebdo(id_planning_salarie,id_element,code_element,valeur) values ((select id_planning_salarie from planning_salarie ps, contrat c,planning_point_vente ppv,point_vente pv where ps.id_salarie = c.id_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente  and ppv.id_point_vente = pv.id_point_vente  and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.id_point_vente like 'MS420726' and date_debut ='2017-04-24'), '000', 'CODE','000');

/* Requete pour tous les jours de la semaine 17 pour l'employé KATY BENOITS  */ 

insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-24',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=0 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-24' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-1,-1,'N',5000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-25',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=1 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-25' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-1,-1,'N',1000);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-26',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=2 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-26' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-27',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=3 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-27' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-28',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=4 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-28' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-29',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=5 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-29' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);
insert into planning_jour (id_planning_salarie,date,id_planning_type_jour,contractuel,id_planning_plage,unite,presence_matin,presence_apm,type_contenu,heures_effectuees) values ((select id_planning_salarie from planning_salarie ps, planning_point_vente ppv,point_vente pv where ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and ps.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726') and pv.numero_point_vente like 'MS420726' and ppv.date_debut='2017-04-24'),'2017-04-30',(select ptj.id_planning_type_jour from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24' and pt.fin is null),(select ptj.contractuel from planning_type_jour ptj,planning_type pt, contrat c where ptj.id_planning_type=pt.id_planning_type and c.id_contrat=pt.id_contrat and ptj.numero_jour=6 and c.numero_contrat like '9559127-201711400-69-MS420726' and pt.debut <='2017-04-24'),(select id_planning_plage from planning_plage pg, point_vente pv where pg.id_point_vente = pv.id_point_vente and pg.debut ='2017-04-30' and pv.numero_point_vente like 'MS420726' and pg.id_salarie in (select id_salarie from contrat where numero_contrat like '9559127-201711400-69-MS420726')),'H',-2,-2,'N',0);

/* toutes les plages horaires du salarié KATY BENOITS pour de la semaine 17 */ 

insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-24'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'13:00','14:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-25'),'15:00','20:00','-1');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-26'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-27'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-28'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-29'),'9:00','17:00','-2');
insert into plage_horaire(id_planning_jour,debut_plage, fin_plage, id_motif) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,contrat c,point_vente pv,planning_point_vente ppv where pj.id_planning_salarie=ps.id_planning_salarie and ppv.id_planning_point_vente = ps.id_planning_point_vente and ps.id_salarie = c.id_salarie and pv.id_point_vente = ppv.id_point_vente and c.numero_contrat like '9559127-201711400-69-MS420726' and pv.numero_point_vente like 'MS420726' and ppv.date_debut ='2017-04-24' and pj.date = '2017-04-30'),'9:00','17:00','-2');

/* pour tous les jours de la semaine du salarié KATY BENOITS */ 

insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-24'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-25'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-26'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-27'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-28'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-29'),'000','CODE','000');
insert into ev_jour(id_planning_jour,id_element,code_element,valeur) values ((select id_planning_jour from planning_jour pj, planning_salarie ps,planning_point_vente ppv,point_vente pv where pj.id_planning_salarie = ps.id_planning_salarie and ps.id_planning_point_vente = ppv.id_planning_point_vente and ppv.id_point_vente = pv.id_point_vente and pv.numero_point_vente like 'MS420726' and ps.id_salarie='9559127-201711400-69-MS420726' and date_debut ='2017-04-24' and date ='2017-04-30'),'000','CODE','000');

/*création de la requête de modification de la table planning_point_vente pour la semaine 2017-04-24 */ 
UPDATE planning_point_vente SET etat=0 where date_debut='2017-04-24' and id_point_vente in (select id_point_vente from point_vente where numero_point_vente like 'MS420726');
